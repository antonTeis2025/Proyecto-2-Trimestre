<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Crear Usuario</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

<div th:replace="~{layout :: menu}"></div>

<div class="max-w-3xl mx-auto px-6 py-8">

    <h2 class="text-2xl font-semibold mb-6">
        Crear Nuevo Usuario
    </h2>

    <div th:if="${error}" class="mb-4">
        <p class="text-red-700 bg-red-100 border border-red-300 px-4 py-2 rounded"
           th:text="${error}"></p>
    </div>

    <form th:action="@{/web/administrador/crear-usuario}"
          th:object="${userData}"
          method="post"
          class="bg-white border border-gray-300 rounded p-6 space-y-4">

        <div>
            <label for="username" class="block text-sm font-medium mb-1">
                Username:
            </label>
            <input type="text"
                   id="username"
                   name="username"
                   th:field="*{username}"
                   class="w-full border border-gray-300 px-3 py-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">

            <span th:if="${#fields.hasErrors('username')}"
                  class="text-red-600 text-sm"
                  th:errors="*{username}"></span>
        </div>

        <div>
            <label for="password" class="block text-sm font-medium mb-1">
                Contrase√±a:
            </label>
            <input type="password"
                   id="password"
                   name="password"
                   th:field="*{password}"
                   class="w-full border border-gray-300 px-3 py-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">

            <span th:if="${#fields.hasErrors('password')}"
                  class="text-red-600 text-sm"
                  th:errors="*{password}"></span>
        </div>

        <div>
            <label for="nombre" class="block text-sm font-medium mb-1">
                Nombre:
            </label>
            <input type="text"
                   id="nombre"
                   name="nombre"
                   th:field="*{nombre}"
                   class="w-full border border-gray-300 px-3 py-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">

            <span th:if="${#fields.hasErrors('nombre')}"
                  class="text-red-600 text-sm"
                  th:errors="*{nombre}"></span>
        </div>

        <div>
            <label for="apellido" class="block text-sm font-medium mb-1">
                Apellidos:
            </label>
            <input type="text"
                   id="apellido"
                   name="apellido"
                   th:field="*{apellido}"
                   class="w-full border border-gray-300 px-3 py-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500">

            <span th:if="${#fields.hasErrors('apellido')}"
                  class="text-red-600 text-sm"
                  th:errors="*{apellido}"></span>
        </div>

        <div>
            <label for="privilegios" class="block text-sm font-medium mb-1">
                Rol:
            </label>
            <select id="privilegios"
                    name="privilegios"
                    th:field="*{privilegios}"
                    class="w-full border border-gray-300 px-3 py-2 rounded text-sm bg-white focus:outline-none focus:ring-1 focus:ring-blue-500">
                <option th:each="tipo : ${tiposUsuario}"
                        th:value="${tipo}"
                        th:text="${tipo}">
                </option>
            </select>

            <span th:if="${#fields.hasErrors('privilegios')}"
                  class="text-red-600 text-sm"
                  th:errors="*{privilegios}"></span>
        </div>

        <div class="pt-4">
            <button type="submit"
                    class="bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700">
                Crear Usuario
            </button>
        </div>

    </form>

    <p class="mt-4 text-sm">
        <a href="/web/administrador"
           class="text-blue-600 hover:text-blue-800 underline">
            Volver al panel
        </a>
    </p>

</div>

<div th:replace="~{layout :: footer}"></div>

</body>
</html>
